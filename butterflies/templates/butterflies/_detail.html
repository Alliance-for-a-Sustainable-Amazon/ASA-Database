{# _detail.html - Dynamic detail view for any model #}
{% load butterfly_extras butterfly_display %}
<h2>{{ model_name }} Details</h2>
<table border="1">
    {% for field in fields %}
    <tr>
        <th>{{ field.verbose_name }}</th>
        <td>{{ object|get_field_value:field.name|dot_if_none }}</td>
    </tr>
    {% endfor %}
</table>
<a href="{% url 'dynamic_edit' object.model_name_internal object.pk %}">Edit</a>
{% if delete_confirm %}
    <form method="post" style="display:inline;">
        {% csrf_token %}
        <button type="submit">Confirm Delete</button>
    </form>
    <a href="{% url 'dynamic_detail' object.model_name_internal object.pk %}">Cancel</a>
{% else %}
    {% load auth_tags %}
    {% if user.is_superuser or user|has_group:'Admin' %}
        <a href="{% url 'dynamic_delete' object.model_name_internal object.pk %}">Delete</a>
    {% endif %}
{% endif %}
<a href="{% url 'report_table' %}">Back to Report Table</a>
